"use strict";var D=Object.create;var c=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var M=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b=(e,t)=>{for(var o in t)c(e,o,{get:t[o],enumerable:!0})},m=(e,t,o,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of x(t))!O.call(e,i)&&i!==o&&c(e,i,{get:()=>t[i],enumerable:!(s=P(t,i))||s.enumerable});return e};var R=(e,t,o)=>(o=e!=null?D(F(e)):{},m(t||!e||!e.__esModule?c(o,"default",{value:e,enumerable:!0}):o,e)),k=e=>m(c({},"__esModule",{value:!0}),e);var w=M((K,p)=>{"use strict";var q=require("os"),f=q.homedir();p.exports=e=>{if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return f?e.replace(/^~(?=$|\/|\\)/,f):e}});var E={};b(E,{default:()=>y});module.exports=k(E);var d=require("@raycast/api"),r=require("fs"),g=require("path"),T=R(w()),C=require("react/jsx-runtime"),a=(0,d.getPreferenceValues)(),u=(0,T.default)(a.downloadsFolder??"~/Downloads"),H=a.showHiddenFiles,S=a.fileOrder,l=a.lastestDownloadOrder;function _(){return(0,r.readdirSync)(u).filter(t=>H||!t.startsWith(".")).map(t=>{let o=(0,g.join)(u,t),s=(0,r.statSync)(o);return{file:t,path:o,lastModifiedAt:s.mtime,createdAt:s.ctime,addedAt:s.atime,birthAt:s.birthtime}}).sort((t,o)=>{switch(S){case"addTime":return o.addedAt.getTime()-t.addedAt.getTime();case"createTime":return o.createdAt.getTime()-t.createdAt.getTime();case"modifiedTime":default:return o.lastModifiedAt.getTime()-t.lastModifiedAt.getTime()}})}function A(){let e=_();if(!(e.length<1))return l==="addTime"?e.sort((t,o)=>o.addedAt.getTime()-t.addedAt.getTime()):l==="createTime"?e.sort((t,o)=>o.createdAt.getTime()-t.createdAt.getTime()):l==="modifiedTime"?e.sort((t,o)=>o.lastModifiedAt.getTime()-t.lastModifiedAt.getTime()):l==="birthTime"&&e.sort((t,o)=>o.birthAt.getTime()-t.birthAt.getTime()),e[0]}function h(){try{return(0,r.accessSync)(a.downloadsFolder,r.constants.R_OK),!0}catch(e){return console.error(e),!1}}var n=require("@raycast/api");async function y(){if(!h()){await(0,n.showHUD)("No permission to access the downloads folder");return}let e=A();if(!e){await(0,n.showHUD)("No downloads found");return}await(0,n.open)(e.path),await(0,n.popToRoot)()}

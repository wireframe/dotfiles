"use strict";var D=Object.create;var c=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b=(e,t)=>{for(var o in t)c(e,o,{get:t[o],enumerable:!0})},m=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of P(t))!M.call(e,i)&&i!==o&&c(e,i,{get:()=>t[i],enumerable:!(n=F(t,i))||n.enumerable});return e};var R=(e,t,o)=>(o=e!=null?D(x(e)):{},m(t||!e||!e.__esModule?c(o,"default",{value:e,enumerable:!0}):o,e)),k=e=>m(c({},"__esModule",{value:!0}),e);var w=O((K,p)=>{"use strict";var q=require("os"),f=q.homedir();p.exports=e=>{if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return f?e.replace(/^~(?=$|\/|\\)/,f):e}});var E={};b(E,{default:()=>y});module.exports=k(E);var r=require("@raycast/api");var d=require("@raycast/api"),s=require("fs"),g=require("path"),T=R(w()),C=require("react/jsx-runtime"),a=(0,d.getPreferenceValues)(),u=(0,T.default)(a.downloadsFolder??"~/Downloads"),H=a.showHiddenFiles,S=a.fileOrder,l=a.lastestDownloadOrder;function _(){return(0,s.readdirSync)(u).filter(t=>H||!t.startsWith(".")).map(t=>{let o=(0,g.join)(u,t),n=(0,s.statSync)(o);return{file:t,path:o,lastModifiedAt:n.mtime,createdAt:n.ctime,addedAt:n.atime,birthAt:n.birthtime}}).sort((t,o)=>{switch(S){case"addTime":return o.addedAt.getTime()-t.addedAt.getTime();case"createTime":return o.createdAt.getTime()-t.createdAt.getTime();case"modifiedTime":default:return o.lastModifiedAt.getTime()-t.lastModifiedAt.getTime()}})}function A(){let e=_();if(!(e.length<1))return l==="addTime"?e.sort((t,o)=>o.addedAt.getTime()-t.addedAt.getTime()):l==="createTime"?e.sort((t,o)=>o.createdAt.getTime()-t.createdAt.getTime()):l==="modifiedTime"?e.sort((t,o)=>o.lastModifiedAt.getTime()-t.lastModifiedAt.getTime()):l==="birthTime"&&e.sort((t,o)=>o.birthAt.getTime()-t.birthAt.getTime()),e[0]}function h(){try{return(0,s.accessSync)(a.downloadsFolder,s.constants.R_OK),!0}catch(e){return console.error(e),!1}}async function y(){if(!h()){await(0,r.showHUD)("No permission to access the downloads folder");return}let e=A();if(!e){await(0,r.showHUD)("No downloads found");return}await(0,r.showInFinder)(e.path),await(0,r.closeMainWindow)(),await(0,r.popToRoot)()}

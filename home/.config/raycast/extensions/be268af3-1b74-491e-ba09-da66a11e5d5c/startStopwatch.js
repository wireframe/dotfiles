"use strict";var c=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var f=(t,n)=>{for(var o in n)c(t,o,{get:n[o],enumerable:!0})},g=(t,n,o,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of h(n))!w.call(t,r)&&r!==o&&c(t,r,{get:()=>n[r],enumerable:!(i=l(n,r))||i.enumerable});return t};var y=t=>g(c({},"__esModule",{value:!0}),t);var P={};f(P,{default:()=>E});module.exports=y(P);var d=require("@raycast/api");var u=require("@raycast/api");var S=require("crypto"),s=require("fs");var e=require("@raycast/api");var m=t=>{let n=(0,e.getPreferenceValues)();if(t.launchedFromMenuBar||n.closeWindowOnTimerStart){let o=t.isErr?"\u26A0\uFE0F":"\u{1F389}";return(0,e.showHUD)(`${o} ${t.msg}`),(0,e.popToRoot)()}else(0,e.showToast)({style:t.isErr?e.Toast.Style.Failure:e.Toast.Style.Success,title:t.msg})};var a=u.environment.supportPath+"/raycast-stopwatches.json",D=()=>{(!(0,s.existsSync)(a)||(0,s.readFileSync)(a).toString()=="")&&(0,s.writeFileSync)(a,"[]")},O=t=>({name:t,swID:(0,S.randomUUID)(),timeStarted:new Date,timeElapsed:-99,lastPaused:"----",pauseElapsed:0});var p=async({swName:t="Untitled",launchedFromMenuBar:n=!1})=>{D();let o=JSON.parse((0,s.readFileSync)(a).toString()),i=O(t);o.push(i),(0,s.writeFileSync)(a,JSON.stringify(o)),m({msg:`Stopwatch "${t}" started!`,launchedFromMenuBar:n,isErr:!1})};var E=async t=>{await(0,d.closeMainWindow)(),t.arguments.name?p({swName:t.arguments.name}):p({})};
